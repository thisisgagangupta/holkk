<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Evaluation Oral Processing</title>
  <link rel="stylesheet" href="test-form.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
</head>
<body style="background-color: burlywood;">
  <div class="progress-bar">
    <div class="progress-bar-fill" id="progressBar"></div>
  </div>
  <p class="progress-bar-text" id="progressText"></p>

  <div class="container">
    <div class="form-wrapper">
    <h1 class="form-title">Oral Processing Assessment</h1>
    <form id="testForm" onsubmit="return validateForm()">
      <div class="form-group1">
        <label for="question1" id="NQ">1. It gags easily with certain food textures or when putting cutlery in your mouth.</label>
        <div class="form-group">
          &nbsp;&nbsp;&nbsp;<label>
            <input type="radio" id="question1-1" data-type="NQ" name="question1" value="1" required>1
          </label> &nbsp;
          <label>
            <input type="radio" id="question1-2" data-type="NQ" name="question1" value="2">2
          </label> &nbsp;
          <label>
            <input type="radio" id="question1-3" data-type="NQ" name="question1" value="3">3
          </label> &nbsp;
          <label>
            <input type="radio" id="question1-4" data-type="NQ" name="question1" value="4">4
          </label> &nbsp;
          <label>
            <input type="radio" id="question1-5" data-type="NQ" name="question1" value="5">5
          </label> &nbsp;
        </div>
      </div>
      
      <div class="form-group1">
        <label for="question2" id="SN">2. Reject certain flavors or smells of foods that are common in the infant diet.</label>
        <div class="form-group">
          &nbsp;&nbsp;&nbsp;<label>
            <input type="radio" id="question2-1" data-type="SN" name="question2" value="1" required>1
          </label> &nbsp;
          <label>
            <input type="radio" id="question2-2" data-type="SN" name="question2" value="2">2
          </label> &nbsp;
          <label>
            <input type="radio" id="question2-3" data-type="SN" name="question2" value="3">3
          </label> &nbsp;
          <label>
            <input type="radio" id="question2-4" data-type="SN" name="question2" value="4">4
          </label> &nbsp;
          <label>
            <input type="radio" id="question2-5" data-type="SN" name="question2" value="5">5
          </label> &nbsp;
        </div>
      </div>
      
      <div class="form-group1">
        <label for="question3" id="SN">3. Just take meals with certain flavors (e.g., sweet, salty).</label>
        <div class="form-group">
          &nbsp;&nbsp;&nbsp;<label>
            <input type="radio" id="question3-1" data-type="SN" name="question3" value="1" required>1
          </label> &nbsp;
          <label>
            <input type="radio" id="question3-2" data-type="SN" name="question3" value="2">2
          </label> &nbsp;
          <label>
            <input type="radio" id="question3-3" data-type="SN" name="question3" value="3">3
          </label> &nbsp;
          <label>
            <input type="radio" id="question3-4" data-type="SN" name="question3" value="4">4
          </label> &nbsp;
          <label>
            <input type="radio" id="question3-5" data-type="SN" name="question3" value="5">5
          </label> &nbsp;
        </div>
      </div>
      
      <div class="form-group1">
        <label for="question4" id="SN">4. It is limited to certain food textures.</label>
        <div class="form-group">
          &nbsp;&nbsp;&nbsp;<label>
            <input type="radio" id="question4-1" data-type="SN" name="question4" value="1" required>1
          </label> &nbsp;
          <label>
            <input type="radio" id="question4-2" data-type="SN" name="question4" value="2">2
          </label> &nbsp;
          <label>
            <input type="radio" id="question4-3" data-type="SN" name="question4" value="3">3
          </label> &nbsp;
          <label>
            <input type="radio" id="question4-4" data-type="SN" name="question4" value="4">4
          </label> &nbsp;
          <label>
            <input type="radio" id="question4-5" data-type="SN" name="question4" value="5">5
          </label> &nbsp;
        </div>
      </div>
      
      <div class="form-group1">
        <label for="question5" id="SN">5. It is scrupulous with food, especially with food textures.</label>
        <div class="form-group">
          &nbsp;&nbsp;&nbsp;<label>
            <input type="radio" id="question5-1" data-type="SN" name="question5" value="1" required>1
          </label> &nbsp;
          <label>
            <input type="radio" id="question5-2" data-type="SN" name="question5" value="2">2
          </label> &nbsp;
          <label>
            <input type="radio" id="question5-3" data-type="SN" name="question5" value="3">3
          </label> &nbsp;
          <label>
            <input type="radio" id="question5-4" data-type="SN" name="question5" value="4">4
          </label> &nbsp;
          <label>
            <input type="radio" id="question5-5" data-type="SN" name="question5" value="5">5
          </label> &nbsp;
        </div>
      </div>
      
      <div class="form-group1">
        <label for="question6" id="SK">6. Smells things that are not food.</label>
        <div class="form-group">
          &nbsp;&nbsp;&nbsp;<label>
            <input type="radio" id="question6-1" data-type="SK" name="question6" value="1" required>1
          </label> &nbsp;
          <label>
            <input type="radio" id="question6-2" data-type="SK" name="question6" value="2">2
          </label> &nbsp;
          <label>
            <input type="radio" id="question6-3" data-type="SK" name="question6" value="3">3
          </label> &nbsp;
          <label>
            <input type="radio" id="question6-4" data-type="SK" name="question6" value="4">4
          </label> &nbsp;
          <label>
            <input type="radio" id="question6-5" data-type="SK" name="question6" value="5">5
          </label> &nbsp;
        </div>
      </div>
      
      <div class="form-group1">
        <label for="question7" id="SK">7. It shows a clear preference for certain flavors.</label>
        <div class="form-group">
          &nbsp;&nbsp;&nbsp;<label>
            <input type="radio" id="question7-1" data-type="SK" name="question7" value="1" required>1
          </label> &nbsp;
          <label>
            <input type="radio" id="question7-2" data-type="SK" name="question7" value="2">2
          </label> &nbsp;
          <label>
            <input type="radio" id="question7-3" data-type="SK" name="question7" value="3">3
          </label> &nbsp;
          <label>
            <input type="radio" id="question7-4" data-type="SK" name="question7" value="4">4
          </label> &nbsp;
          <label>
            <input type="radio" id="question7-5" data-type="SK" name="question7" value="5">5
          </label> &nbsp;
        </div>
      </div>
      
      <div class="form-group1">
        <label for="question8" id="SK">8. You have cravings for certain foods, flavors, or smells.</label>
        <div class="form-group">
          &nbsp;&nbsp;&nbsp;<label>
            <input type="radio" id="question8-1" data-type="SK" name="question8" value="1" required>1
          </label> &nbsp;
          <label>
            <input type="radio" id="question8-2" data-type="SK" name="question8" value="2">2
          </label> &nbsp;
          <label>
            <input type="radio" id="question8-3" data-type="SK" name="question8" value="3">3
          </label> &nbsp;
          <label>
            <input type="radio" id="question8-4" data-type="SK" name="question8" value="4">4
          </label> &nbsp;
          <label>
            <input type="radio" id="question8-5" data-type="SK" name="question8" value="5">5
          </label> &nbsp;
        </div>
      </div>
      
      <div class="form-group1">
        <label for="question9" id="SK">9. You put things in your mouth (e.g., pencil, hands).</label>
        <div class="form-group">
          &nbsp;&nbsp;&nbsp;<label>
            <input type="radio" id="question9-1" data-type="SK" name="question9" value="1" required>1
          </label> &nbsp;
          <label>
            <input type="radio" id="question9-2" data-type="SK" name="question9" value="2">2
          </label> &nbsp;
          <label>
            <input type="radio" id="question9-3" data-type="SK" name="question9" value="3">3
          </label> &nbsp;
          <label>
            <input type="radio" id="question9-4" data-type="SK" name="question9" value="4">4
          </label> &nbsp;
          <label>
            <input type="radio" id="question9-5" data-type="SK" name="question9" value="5">5
          </label> &nbsp;
        </div>
      </div>
      
      <div class="form-group1">
        <label for="question10" id="SN">10. He bites his tongue or lips more than other children his age.</label>
        <div class="form-group">
          &nbsp;&nbsp;&nbsp;<label>
            <input type="radio" id="question10-1" data-type="SN" name="question10" value="1" required>1
          </label> &nbsp;
          <label>
            <input type="radio" id="question10-2" data-type="SN" name="question10" value="2">2
          </label> &nbsp;
          <label>
            <input type="radio" id="question10-3" data-type="SN" name="question10" value="3">3
          </label> &nbsp;
          <label>
            <input type="radio" id="question10-4" data-type="SN" name="question10" value="4">4
          </label> &nbsp;
          <label>
            <input type="radio" id="question10-5" data-type="SN" name="question10" value="5">5
          </label> &nbsp;
        </div>
      </div>
      
      <button type="button" id="submit-data" class="btn btn-primary btn-next" onclick="nextPage()">Next</button>
      <!-- <input type="submit"  id="submit-data" value="get data"/> -->
    </form>
  </div>

  <script>
    // Set the total number of pages in the quiz
    const totalPages = 9;

    // Calculate the current page number (example: 4th page)
    const currentPage = 6;

    // Calculate the progress percentage
    const progressPercentage = Math.floor((currentPage / totalPages) * 100);

    // Update the progress bar width and text
    const progressBar = document.getElementById('progressBar');
    const progressText = document.getElementById('progressText');

    progressBar.style.width = `${progressPercentage}%`;
    progressText.textContent = `${progressPercentage}% Complete`;

    function validateForm() {
  var form = document.getElementById("testForm");
  if (!form.checkValidity()) {
    // Display error message or take appropriate action
    alert("Please fill out all required fields.");
    return false;
  }
  return true;
}

function nextPage() {
  // Validate the form before proceeding to the next page
  if (!validateForm()) {
    return;
  }

  // Retrieve the selected values from the form
  var formData = new FormData(document.getElementById("testForm"));

  // Create a URLSearchParams object to store the selected values
  var urlParams = new URLSearchParams();

  // Iterate over the form data and append the selected values to the URLSearchParams object
  for (const pair of formData.entries()) {
    urlParams.append(pair[0], pair[1]);
  }

  // Redirect to the results page with the selected values as query parameters
  window.location.href = `7_BRA.html?${urlParams.toString()}`;
}

  </script>


<script>
    
  const score = JSON.parse(
  window.localStorage.getItem('med_score')
  );
  let { AV_score, SN_score, RG_score, SK_score, NQ_score } = score;
  document
      .getElementById("submit-data")
      .addEventListener("click", (e)=>{
      e.preventDefault();
      console.log('hii');
      
      
          // const AVDivs = document.querySelectorAll(".AV");
          // const AVInputs = document.querySelectorAll("input");
          // let AV_Total = 0;
          // for(let i=0; i<AVDivs; i++){
          //     for(let j=0; j<AVInputs.length; j++){
          //     // AV_Total += AVDivs[i].value
          //     console.log(AVDivs[i].value);
          //     }
          // }
          // // AV_Total.map(AV => AV_Total+=AV.value);
          // console.log(AVInputs);
          // console.log(AV_Total);

          const AV = document.querySelectorAll('input[type="radio"][data-type="AV"]:checked');
          const SN = document.querySelectorAll('input[type="radio"][data-type="SN"]:checked');
          const RG = document.querySelectorAll('input[type="radio"][data-type="RG"]:checked');
          const SK = document.querySelectorAll('input[type="radio"][data-type="SK"]:checked');
          const NQ = document.querySelectorAll('input[type="radio"][data-type="NQ"]:checked');


          // console.log(AV);
          // console.log(SN);
          // console.log(RG);
          // console.log(SK);
          // console.log(NQ);

          let AV_Total = AV_score,
              SN_Total = SN_score,
              RG_Total = RG_score;
              SK_Total = SK_score;
              NQ_Total = NQ_score;


          for(let i=0; i<AV.length; i++){
              // console.log(typeof AV[i].value);
              AV_Total += Number(AV[i].value);
          }
          for(let i=0; i<SN.length; i++){
              // console.log(typeof SN[i].value);
              SN_Total += Number(SN[i].value);
          }
          for(let i=0; i<RG.length; i++){
              // console.log(typeof RG[i].value);
              RG_Total += Number(RG[i].value);
          }
          for(let i = 0; i<SK.length; i++) {
              //console.log(typeof SK[i].value);
              SK_Total += Number(SK[i].value);
          }
          for(let i = 0; i<NQ.length; i++) {
              //console.log(typeof NQ[i].value);
              NQ_Total += Number(NQ[i].value);
          }

          console.log(AV_Total);
          console.log(SN_Total);
          console.log(RG_Total);
          console.log(SK_Total);
          console.log(NQ_Total);

          window.localStorage.setItem('med_score', JSON.stringify({
              AV_score: AV_Total,
              SN_score: SN_Total,
              RG_score: RG_Total,
              SK_score: SK_Total,
              NQ_score: NQ_Total,
          }));
  })

</script>
</body>
</html>
